; Test file for PAL parser
; Tests various language constructs

var
  globalVar : LongInt

const
  MAX_SIZE = 100
  PI = 3.14159

; Simple procedure
proc simpleProc()
begin
  msginfo("Test", "Simple procedure")
end
endproc

; Procedure with parameters
proc procWithParams(x : LongInt, y : Number)
var
  result : Number
begin
  result = x + y
  return result
end
endproc

; Procedure with var parameters
proc swapValues(var a : LongInt, var b : LongInt)
var
  temp : LongInt
begin
  temp = a
  a = b
  b = temp
end
endproc

; Test if statement
proc testIf(value : LongInt)
begin
  if value > 0 then
    msginfo("Result", "Positive")
  elsif value < 0 then
    msginfo("Result", "Negative")
  else
    msginfo("Result", "Zero")
  endif
end
endproc

; Test while loop
proc testWhile()
var
  i : LongInt
begin
  i = 1
  while i <= 10 do
    i = i + 1
  endwhile
end
endproc

; Test for loop
proc testFor()
var
  i : LongInt
  sum : LongInt
begin
  sum = 0
  for i = 1 to 10
    sum = sum + i
  endfor

  for i = 10 downto 1
    sum = sum - i
  endfor

  for i = 0 to 100 step 10
    sum = sum + i
  endfor
end
endproc

; Test switch statement
proc testSwitch(value : LongInt)
begin
  switch value
    case 1 :
      msginfo("Value", "One")
    case 2 :
      msginfo("Value", "Two")
    case 3 :
      msginfo("Value", "Three")
    default :
      msginfo("Value", "Other")
  endswitch
end
endproc

; Test try-except
proc testException()
begin
  try
    ; Some operation that might fail
    msginfo("Try", "Attempting operation")
  except
    msgerror("Error", "Operation failed")
  end
end
endproc

; Main program
begin
  globalVar = 42
  simpleProc()
  testIf(10)
  testWhile()
  testFor()
  testSwitch(2)
  testException()
end
